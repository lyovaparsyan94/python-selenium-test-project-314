# Рабочая папка студента

Эта директория повторяет то, что получает студент на старте проекта. Здесь лежит учебный фронтенд и заготовка для автоматизированных тестов на Selenium.

## Фронтенд

- `Makefile` содержит удобные обёртки:
  - `make install` → `npm install`
  - `make run` → `npm run dev -- --host 0.0.0.0 --port 5173`
- Приложение поднимается на `http://127.0.0.1:5173`. Если запускаете через Docker, пробросьте тот же порт наружу, чтобы тесты получили доступ.

## Тесты на Selenium

- Исходники тестов лежат в `tests/`.
- Параметры берутся из переменных окружения. Никаких жёстко прописанных путей и портов в коде нет — тесты знают только про базовый URL.

### Переменные окружения

| Переменная | Обязательна | Назначение |
| --- | --- | --- |
| `APP_BASE_URL` | да | Адрес запущенного фронтенда (например, `http://127.0.0.1:5173`) |
| `HEADLESS` | нет | Поставьте `false`, если хотите видеть браузер во время запуска |

Остальные параметры (таймауты, размеры окна, директория логов) уже заданы по умолчанию в коде.

## Пошаговый запуск

```bash
# 1. Ставим зависимости для тестов
uv sync --group dev

# 2. Запускаем канбан (используем встроенный Makefile)
make start

# 3. Указываем тестам адрес приложения и запускаем pytest
export APP_BASE_URL="http://127.0.0.1:5173"
make test

# 4. Останавливаем контейнер, когда закончили
make stop
```

Если нужно увидеть тесты в реальном браузере, запустите их с `HEADLESS=false`.

> Альтернатива: можно стартовать контейнер напрямую (`docker run ...`), но цели `make start/stop/test` делают то же самое.
> Если удобнее, переменную можно пробросить в самом вызове: `make test APP_BASE_URL=http://127.0.0.1:5173`.

### Быстрый запуск в одну строку (PowerShell)

```powershell
$env:APP_BASE_URL = "http://127.0.0.1:5173"; `
docker run --rm -d --name kanban-app -p 5173:5173 hexletprojects/qa_auto_python_testing_kanban_board_project_ru_app; `
try { uv run pytest } finally { docker stop kanban-app | Out-Null }
```

Тот же цикл, но без отдельных команд: контейнер стартует, тесты проходят, контейнер гарантированно останавливается.